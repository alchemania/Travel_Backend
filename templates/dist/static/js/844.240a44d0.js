"use strict";(self["webpackChunkvue_big_screen_plugin"]=self["webpackChunkvue_big_screen_plugin"]||[]).push([[844],{9844:function(t,e,n){n.r(e),n.d(e,{default:function(){return Go}});var s={};n.r(s),n.d(s,{hasBrowserEnv:function(){return zt},hasStandardBrowserEnv:function(){return Wt},hasStandardBrowserWebWorkerEnv:function(){return Ht}});var r={};n.r(r),n.d(r,{Decoder:function(){return mo},Encoder:function(){return fo},PacketType:function(){return po},protocol:function(){return uo}});var o=n(5916),i=n(1484),a=n(9471),c=n(3141);const l=(t,e)=>{if(!t)return"";const n=new Date(t),s={"M+":n.getMonth()+1,"d+":n.getDate(),"H+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(const r in s)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[r]:("00"+s[r]).substr((""+s[r]).length)));return e},h=t=>-3==t?"远小于":-2==t?"小于":-1==t?"略小于":0==t?"接近":1==t?"略大于":2==t?"大于":3==t?"远大于":void 0,u=["周日","周一","周二","周三","周四","周五","周六"],d="旅游大数据可视化系统",p=["","",""];function f(){const t=(0,i.KR)(),e=(0,i.KR)(0),n={width:"1",height:"1"},s=1920,r=1080,o=parseFloat((s/r).toFixed(5)),a=()=>{const e=parseFloat((window.innerWidth/window.innerHeight).toFixed(5));t.value&&(e>o?(n.width=(window.innerHeight*o/s).toFixed(5),n.height=(window.innerHeight/r).toFixed(5),t.value.style.transform=`scale(${n.width}, ${n.height}) translate(-50%, -50%)`):(n.height=(window.innerWidth/o/r).toFixed(5),n.width=(window.innerWidth/s).toFixed(5),t.value.style.transform=`scale(${n.width}, ${n.height}) translate(-50%, -50%)`))},c=()=>{clearTimeout(e.value),e.value=setTimeout((()=>{a()}),200)},l=()=>{window.addEventListener("resize",c)},h=()=>{window.removeEventListener("resize",c)};return{appRef:t,calcRate:a,windowDraw:l,unWindowDraw:h}}function g(t,e){return function(){return t.apply(e,arguments)}}const{toString:m}=Object.prototype,{getPrototypeOf:y}=Object,b=(t=>e=>{const n=m.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),v=t=>(t=t.toLowerCase(),e=>b(e)===t),w=t=>e=>typeof e===t,{isArray:k}=Array,E=w("undefined");function _(t){return null!==t&&!E(t)&&null!==t.constructor&&!E(t.constructor)&&R(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const x=v("ArrayBuffer");function O(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&x(t.buffer),e}const A=w("string"),R=w("function"),S=w("number"),L=t=>null!==t&&"object"===typeof t,C=t=>!0===t||!1===t,T=t=>{if("object"!==b(t))return!1;const e=y(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B=v("Date"),F=v("File"),N=v("Blob"),j=v("FileList"),D=t=>L(t)&&R(t.pipe),P=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||R(t.append)&&("formdata"===(e=b(t))||"object"===e&&R(t.toString)&&"[object FormData]"===t.toString()))},U=v("URLSearchParams"),q=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function I(t,e,{allOwnKeys:n=!1}={}){if(null===t||"undefined"===typeof t)return;let s,r;if("object"!==typeof t&&(t=[t]),k(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let i;for(s=0;s<o;s++)i=r[s],e.call(null,t[i],i,t)}}function $(t,e){e=e.toLowerCase();const n=Object.keys(t);let s,r=n.length;while(r-- >0)if(s=n[r],e===s.toLowerCase())return s;return null}const M=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),z=t=>!E(t)&&t!==M;function W(){const{caseless:t}=z(this)&&this||{},e={},n=(n,s)=>{const r=t&&$(e,s)||s;T(e[r])&&T(n)?e[r]=W(e[r],n):T(n)?e[r]=W({},n):k(n)?e[r]=n.slice():e[r]=n};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&I(arguments[s],n);return e}const H=(t,e,n,{allOwnKeys:s}={})=>(I(e,((e,s)=>{n&&R(e)?t[s]=g(e,n):t[s]=e}),{allOwnKeys:s}),t),K=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),V=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},J=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},null==t)return e;do{r=Object.getOwnPropertyNames(t),o=r.length;while(o-- >0)i=r[o],s&&!s(i,t,e)||a[i]||(e[i]=t[i],a[i]=!0);t=!1!==n&&y(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y=(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return-1!==s&&s===n},X=t=>{if(!t)return null;if(k(t))return t;let e=t.length;if(!S(e))return null;const n=new Array(e);while(e-- >0)n[e]=t[e];return n},Q=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&y(Uint8Array)),G=(t,e)=>{const n=t&&t[Symbol.iterator],s=n.call(t);let r;while((r=s.next())&&!r.done){const n=r.value;e.call(t,n[0],n[1])}},Z=(t,e)=>{let n;const s=[];while(null!==(n=t.exec(e)))s.push(n);return s},tt=v("HTMLFormElement"),et=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),nt=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),st=v("RegExp"),rt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};I(n,((n,r)=>{let o;!1!==(o=e(n,r,t))&&(s[r]=o||n)})),Object.defineProperties(t,s)},ot=t=>{rt(t,((e,n)=>{if(R(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=t[n];R(s)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},it=(t,e)=>{const n={},s=t=>{t.forEach((t=>{n[t]=!0}))};return k(t)?s(t):s(String(t).split(e)),n},at=()=>{},ct=(t,e)=>(t=+t,Number.isFinite(t)?t:e),lt="abcdefghijklmnopqrstuvwxyz",ht="0123456789",ut={DIGIT:ht,ALPHA:lt,ALPHA_DIGIT:lt+lt.toUpperCase()+ht},dt=(t=16,e=ut.ALPHA_DIGIT)=>{let n="";const{length:s}=e;while(t--)n+=e[Math.random()*s|0];return n};function pt(t){return!!(t&&R(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const ft=t=>{const e=new Array(10),n=(t,s)=>{if(L(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[s]=t;const r=k(t)?[]:{};return I(t,((t,e)=>{const o=n(t,s+1);!E(o)&&(r[e]=o)})),e[s]=void 0,r}}return t};return n(t,0)},gt=v("AsyncFunction"),mt=t=>t&&(L(t)||R(t))&&R(t.then)&&R(t.catch);var yt={isArray:k,isArrayBuffer:x,isBuffer:_,isFormData:P,isArrayBufferView:O,isString:A,isNumber:S,isBoolean:C,isObject:L,isPlainObject:T,isUndefined:E,isDate:B,isFile:F,isBlob:N,isRegExp:st,isFunction:R,isStream:D,isURLSearchParams:U,isTypedArray:Q,isFileList:j,forEach:I,merge:W,extend:H,trim:q,stripBOM:K,inherits:V,toFlatObject:J,kindOf:b,kindOfTest:v,endsWith:Y,toArray:X,forEachEntry:G,matchAll:Z,isHTMLForm:tt,hasOwnProperty:nt,hasOwnProp:nt,reduceDescriptors:rt,freezeMethods:ot,toObjectSet:it,toCamelCase:et,noop:at,toFiniteNumber:ct,findKey:$,global:M,isContextDefined:z,ALPHABET:ut,generateString:dt,isSpecCompliantForm:pt,toJSONObject:ft,isAsyncFn:gt,isThenable:mt};function bt(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}yt.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const vt=bt.prototype,wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{wt[t]={value:t}})),Object.defineProperties(bt,wt),Object.defineProperty(vt,"isAxiosError",{value:!0}),bt.from=(t,e,n,s,r,o)=>{const i=Object.create(vt);return yt.toFlatObject(t,i,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),bt.call(i,t.message,e,n,s,r),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};var kt=bt,Et=null;function _t(t){return yt.isPlainObject(t)||yt.isArray(t)}function xt(t){return yt.endsWith(t,"[]")?t.slice(0,-2):t}function Ot(t,e,n){return t?t.concat(e).map((function(t,e){return t=xt(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}function At(t){return yt.isArray(t)&&!t.some(_t)}const Rt=yt.toFlatObject(yt,{},null,(function(t){return/^is[A-Z]/.test(t)}));function St(t,e,n){if(!yt.isObject(t))throw new TypeError("target must be an object");e=e||new(Et||FormData),n=yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!yt.isUndefined(e[t])}));const s=n.metaTokens,r=n.visitor||h,o=n.dots,i=n.indexes,a=n.Blob||"undefined"!==typeof Blob&&Blob,c=a&&yt.isSpecCompliantForm(e);if(!yt.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(yt.isDate(t))return t.toISOString();if(!c&&yt.isBlob(t))throw new kt("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(t)||yt.isTypedArray(t)?c&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function h(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(yt.endsWith(n,"{}"))n=s?n:n.slice(0,-2),t=JSON.stringify(t);else if(yt.isArray(t)&&At(t)||(yt.isFileList(t)||yt.endsWith(n,"[]"))&&(a=yt.toArray(t)))return n=xt(n),a.forEach((function(t,s){!yt.isUndefined(t)&&null!==t&&e.append(!0===i?Ot([n],s,o):null===i?n:n+"[]",l(t))})),!1;return!!_t(t)||(e.append(Ot(r,n,o),l(t)),!1)}const u=[],d=Object.assign(Rt,{defaultVisitor:h,convertValue:l,isVisitable:_t});function p(t,n){if(!yt.isUndefined(t)){if(-1!==u.indexOf(t))throw Error("Circular reference detected in "+n.join("."));u.push(t),yt.forEach(t,(function(t,s){const o=!(yt.isUndefined(t)||null===t)&&r.call(e,t,yt.isString(s)?s.trim():s,n,d);!0===o&&p(t,n?n.concat(s):[s])})),u.pop()}}if(!yt.isObject(t))throw new TypeError("data must be an object");return p(t),e}var Lt=St;function Ct(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Tt(t,e){this._pairs=[],t&&Lt(t,this,e)}const Bt=Tt.prototype;Bt.append=function(t,e){this._pairs.push([t,e])},Bt.toString=function(t){const e=t?function(e){return t.call(this,e,Ct)}:Ct;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Ft=Tt;function Nt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jt(t,e,n){if(!e)return t;const s=n&&n.encode||Nt,r=n&&n.serialize;let o;if(o=r?r(e,n):yt.isURLSearchParams(e)?e.toString():new Ft(e,n).toString(s),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}class Dt{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){yt.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var Pt=Dt,Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt="undefined"!==typeof URLSearchParams?URLSearchParams:Ft,It="undefined"!==typeof FormData?FormData:null,$t="undefined"!==typeof Blob?Blob:null,Mt={isBrowser:!0,classes:{URLSearchParams:qt,FormData:It,Blob:$t},protocols:["http","https","file","blob","url","data"]};const zt="undefined"!==typeof window&&"undefined"!==typeof document,Wt=(t=>zt&&["ReactNative","NativeScript","NS"].indexOf(t)<0)("undefined"!==typeof navigator&&navigator.product),Ht=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Kt={...s,...Mt};function Vt(t,e){return Lt(t,new Kt.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,s){return Kt.isNode&&yt.isBuffer(t)?(this.append(e,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Jt(t){return yt.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function Yt(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function Xt(t){function e(t,n,s,r){let o=t[r++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),a=r>=t.length;if(o=!o&&yt.isArray(s)?s.length:o,a)return yt.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!i;s[o]&&yt.isObject(s[o])||(s[o]=[]);const c=e(t,n,s[o],r);return c&&yt.isArray(s[o])&&(s[o]=Yt(s[o])),!i}if(yt.isFormData(t)&&yt.isFunction(t.entries)){const n={};return yt.forEachEntry(t,((t,s)=>{e(Jt(t),s,n,0)})),n}return null}var Qt=Xt;function Gt(t,e,n){if(yt.isString(t))try{return(e||JSON.parse)(t),yt.trim(t)}catch(s){if("SyntaxError"!==s.name)throw s}return(n||JSON.stringify)(t)}const Zt={transitional:Ut,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,r=yt.isObject(t);r&&yt.isHTMLForm(t)&&(t=new FormData(t));const o=yt.isFormData(t);if(o)return s?JSON.stringify(Qt(t)):t;if(yt.isArrayBuffer(t)||yt.isBuffer(t)||yt.isStream(t)||yt.isFile(t)||yt.isBlob(t))return t;if(yt.isArrayBufferView(t))return t.buffer;if(yt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Vt(t,this.formSerializer).toString();if((i=yt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Lt(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||s?(e.setContentType("application/json",!1),Gt(t)):t}],transformResponse:[function(t){const e=this.transitional||Zt.transitional,n=e&&e.forcedJSONParsing,s="json"===this.responseType;if(t&&yt.isString(t)&&(n&&!this.responseType||s)){const n=e&&e.silentJSONParsing,o=!n&&s;try{return JSON.parse(t)}catch(r){if(o){if("SyntaxError"===r.name)throw kt.from(r,kt.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],(t=>{Zt.headers[t]={}}));var te=Zt;const ee=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ne=t=>{const e={};let n,s,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),s=t.substring(r+1).trim(),!n||e[n]&&ee[n]||("set-cookie"===n?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)})),e};const se=Symbol("internals");function re(t){return t&&String(t).trim().toLowerCase()}function oe(t){return!1===t||null==t?t:yt.isArray(t)?t.map(oe):String(t)}function ie(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;while(s=n.exec(t))e[s[1]]=s[2];return e}const ae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ce(t,e,n,s,r){return yt.isFunction(s)?s.call(this,e,n):(r&&(e=n),yt.isString(e)?yt.isString(s)?-1!==e.indexOf(s):yt.isRegExp(s)?s.test(e):void 0:void 0)}function le(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}function he(t,e){const n=yt.toCamelCase(" "+e);["get","set","has"].forEach((s=>{Object.defineProperty(t,s+n,{value:function(t,n,r){return this[s].call(this,e,t,n,r)},configurable:!0})}))}class ue{constructor(t){t&&this.set(t)}set(t,e,n){const s=this;function r(t,e,n){const r=re(e);if(!r)throw new Error("header name must be a non-empty string");const o=yt.findKey(s,r);(!o||void 0===s[o]||!0===n||void 0===n&&!1!==s[o])&&(s[o||e]=oe(t))}const o=(t,e)=>yt.forEach(t,((t,n)=>r(t,n,e)));return yt.isPlainObject(t)||t instanceof this.constructor?o(t,e):yt.isString(t)&&(t=t.trim())&&!ae(t)?o(ne(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=re(t),t){const n=yt.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return ie(t);if(yt.isFunction(e))return e.call(this,t,n);if(yt.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=re(t),t){const n=yt.findKey(this,t);return!(!n||void 0===this[n]||e&&!ce(this,this[n],n,e))}return!1}delete(t,e){const n=this;let s=!1;function r(t){if(t=re(t),t){const r=yt.findKey(n,t);!r||e&&!ce(n,n[r],r,e)||(delete n[r],s=!0)}}return yt.isArray(t)?t.forEach(r):r(t),s}clear(t){const e=Object.keys(this);let n=e.length,s=!1;while(n--){const r=e[n];t&&!ce(this,this[r],r,t,!0)||(delete this[r],s=!0)}return s}normalize(t){const e=this,n={};return yt.forEach(this,((s,r)=>{const o=yt.findKey(n,r);if(o)return e[o]=oe(s),void delete e[r];const i=t?le(r):String(r).trim();i!==r&&delete e[r],e[i]=oe(s),n[i]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return yt.forEach(this,((n,s)=>{null!=n&&!1!==n&&(e[s]=t&&yt.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=this[se]=this[se]={accessors:{}},n=e.accessors,s=this.prototype;function r(t){const e=re(t);n[e]||(he(s,t),n[e]=!0)}return yt.isArray(t)?t.forEach(r):r(t),this}}ue.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yt.reduceDescriptors(ue.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),yt.freezeMethods(ue);var de=ue;function pe(t,e){const n=this||te,s=e||n,r=de.from(s.headers);let o=s.data;return yt.forEach(t,(function(t){o=t.call(n,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function fe(t){return!(!t||!t.__CANCEL__)}function ge(t,e,n){kt.call(this,null==t?"canceled":t,kt.ERR_CANCELED,e,n),this.name="CanceledError"}yt.inherits(ge,kt,{__CANCEL__:!0});var me=ge;function ye(t,e,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}var be=Kt.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];yt.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),yt.isString(s)&&i.push("path="+s),yt.isString(r)&&i.push("domain="+r),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ve(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function we(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ke(t,e){return t&&!ve(e)?we(t,e):e}var Ee=Kt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function s(n){let s=n;return t&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=s(window.location.href),function(t){const e=yt.isString(t)?s(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return function(){return!0}}();function _e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xe(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r,o=0,i=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),l=s[i];r||(r=c),n[o]=a,s[o]=c;let h=i,u=0;while(h!==o)u+=n[h++],h%=t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-r<e)return;const d=l&&c-l;return d?Math.round(1e3*u/d):void 0}}var Oe=xe;function Ae(t,e){let n=0;const s=Oe(50,250);return r=>{const o=r.loaded,i=r.lengthComputable?r.total:void 0,a=o-n,c=s(a),l=o<=i;n=o;const h={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&l?(i-o)/c:void 0,event:r};h[e?"download":"upload"]=!0,t(h)}}const Re="undefined"!==typeof XMLHttpRequest;var Se=Re&&function(t){return new Promise((function(e,n){let s=t.data;const r=de.from(t.headers).normalize();let o,i,{responseType:a,withXSRFToken:c}=t;function l(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}if(yt.isFormData(s))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(i=r.getContentType())){const[t,...e]=i?i.split(";").map((t=>t.trim())).filter(Boolean):[];r.setContentType([t||"multipart/form-data",...e].join("; "))}let h=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+n))}const u=ke(t.baseURL,t.url);function d(){if(!h)return;const s=de.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),r=a&&"text"!==a&&"json"!==a?h.response:h.responseText,o={data:r,status:h.status,statusText:h.statusText,headers:s,config:t,request:h};ye((function(t){e(t),l()}),(function(t){n(t),l()}),o),h=null}if(h.open(t.method.toUpperCase(),jt(u,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(d)},h.onabort=function(){h&&(n(new kt("Request aborted",kt.ECONNABORTED,t,h)),h=null)},h.onerror=function(){n(new kt("Network Error",kt.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const s=t.transitional||Ut;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new kt(e,s.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,h)),h=null},Kt.hasStandardBrowserEnv&&(c&&yt.isFunction(c)&&(c=c(t)),c||!1!==c&&Ee(u))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&be.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===s&&r.setContentType(null),"setRequestHeader"in h&&yt.forEach(r.toJSON(),(function(t,e){h.setRequestHeader(e,t)})),yt.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),a&&"json"!==a&&(h.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&h.addEventListener("progress",Ae(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",Ae(t.onUploadProgress)),(t.cancelToken||t.signal)&&(o=e=>{h&&(n(!e||e.type?new me(null,t,h):e),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o)));const p=_e(u);p&&-1===Kt.protocols.indexOf(p)?n(new kt("Unsupported protocol "+p+":",kt.ERR_BAD_REQUEST,t)):h.send(s||null)}))};const Le={http:Et,xhr:Se};yt.forEach(Le,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ce=t=>`- ${t}`,Te=t=>yt.isFunction(t)||null===t||!1===t;var Be={getAdapter:t=>{t=yt.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let o=0;o<e;o++){let e;if(n=t[o],s=n,!Te(n)&&(s=Le[(e=String(n)).toLowerCase()],void 0===s))throw new kt(`Unknown adapter '${e}'`);if(s)break;r[e||"#"+o]=s}if(!s){const t=Object.entries(r).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map(Ce).join("\n"):" "+Ce(t[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s},adapters:Le};function Fe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new me(null,t)}function Ne(t){Fe(t),t.headers=de.from(t.headers),t.data=pe.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=Be.getAdapter(t.adapter||te.adapter);return e(t).then((function(e){return Fe(t),e.data=pe.call(t,t.transformResponse,e),e.headers=de.from(e.headers),e}),(function(e){return fe(e)||(Fe(t),e&&e.response&&(e.response.data=pe.call(t,t.transformResponse,e.response),e.response.headers=de.from(e.response.headers))),Promise.reject(e)}))}const je=t=>t instanceof de?{...t}:t;function De(t,e){e=e||{};const n={};function s(t,e,n){return yt.isPlainObject(t)&&yt.isPlainObject(e)?yt.merge.call({caseless:n},t,e):yt.isPlainObject(e)?yt.merge({},e):yt.isArray(e)?e.slice():e}function r(t,e,n){return yt.isUndefined(e)?yt.isUndefined(t)?void 0:s(void 0,t,n):s(t,e,n)}function o(t,e){if(!yt.isUndefined(e))return s(void 0,e)}function i(t,e){return yt.isUndefined(e)?yt.isUndefined(t)?void 0:s(void 0,t):s(void 0,e)}function a(n,r,o){return o in e?s(n,r):o in t?s(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(t,e)=>r(je(t),je(e),!0)};return yt.forEach(Object.keys(Object.assign({},t,e)),(function(s){const o=c[s]||r,i=o(t[s],e[s],s);yt.isUndefined(i)&&o!==a||(n[s]=i)})),n}const Pe="1.6.8",Ue={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Ue[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const qe={};function Ie(t,e,n){if("object"!==typeof t)throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;while(r-- >0){const o=s[r],i=e[o];if(i){const e=t[o],n=void 0===e||i(e,o,t);if(!0!==n)throw new kt("option "+o+" must be "+n,kt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new kt("Unknown option "+o,kt.ERR_BAD_OPTION)}}Ue.transitional=function(t,e,n){function s(t,e){return"[Axios v"+Pe+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,o)=>{if(!1===t)throw new kt(s(r," has been removed"+(e?" in "+e:"")),kt.ERR_DEPRECATED);return e&&!qe[r]&&(qe[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,o)}};var $e={assertOptions:Ie,validators:Ue};const Me=$e.validators;class ze{constructor(t){this.defaults=t,this.interceptors={request:new Pt,response:new Pt}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}throw n}}_request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=De(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:r}=e;void 0!==n&&$e.assertOptions(n,{silentJSONParsing:Me.transitional(Me.boolean),forcedJSONParsing:Me.transitional(Me.boolean),clarifyTimeoutError:Me.transitional(Me.boolean)},!1),null!=s&&(yt.isFunction(s)?e.paramsSerializer={serialize:s}:$e.assertOptions(s,{encode:Me.function,serialize:Me.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&yt.merge(r.common,r[e.method]);r&&yt.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=de.concat(o,r);const i=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,i.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let h,u=0;if(!a){const t=[Ne.bind(this),void 0];t.unshift.apply(t,i),t.push.apply(t,c),h=t.length,l=Promise.resolve(e);while(u<h)l=l.then(t[u++],t[u++]);return l}h=i.length;let d=e;u=0;while(u<h){const t=i[u++],e=i[u++];try{d=t(d)}catch(p){e.call(this,p);break}}try{l=Ne.call(this,d)}catch(p){return Promise.reject(p)}u=0,h=c.length;while(u<h)l=l.then(c[u++],c[u++]);return l}getUri(t){t=De(this.defaults,t);const e=ke(t.baseURL,t.url);return jt(e,t.params,t.paramsSerializer)}}yt.forEach(["delete","get","head","options"],(function(t){ze.prototype[t]=function(e,n){return this.request(De(n||{},{method:t,url:e,data:(n||{}).data}))}})),yt.forEach(["post","put","patch"],(function(t){function e(e){return function(n,s,r){return this.request(De(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}ze.prototype[t]=e(),ze.prototype[t+"Form"]=e(!0)}));var We=ze;class He{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;while(e-- >0)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const s=new Promise((t=>{n.subscribe(t),e=t})).then(t);return s.cancel=function(){n.unsubscribe(e)},s},t((function(t,s,r){n.reason||(n.reason=new me(t,s,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;const e=new He((function(e){t=e}));return{token:e,cancel:t}}}var Ke=He;function Ve(t){return function(e){return t.apply(null,e)}}function Je(t){return yt.isObject(t)&&!0===t.isAxiosError}const Ye={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ye).forEach((([t,e])=>{Ye[e]=t}));var Xe=Ye;function Qe(t){const e=new We(t),n=g(We.prototype.request,e);return yt.extend(n,We.prototype,e,{allOwnKeys:!0}),yt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(e){return Qe(De(t,e))},n}const Ge=Qe(te);Ge.Axios=We,Ge.CanceledError=me,Ge.CancelToken=Ke,Ge.isCancel=fe,Ge.VERSION=Pe,Ge.toFormData=Lt,Ge.AxiosError=kt,Ge.Cancel=Ge.CanceledError,Ge.all=function(t){return Promise.all(t)},Ge.spread=Ve,Ge.isAxiosError=Je,Ge.mergeConfig=De,Ge.AxiosHeaders=de,Ge.formToJSON=t=>Qt(yt.isHTMLForm(t)?new FormData(t):t),Ge.getAdapter=Be.getAdapter,Ge.HttpStatusCode=Xe,Ge.default=Ge;var Ze=Ge;const tn=8e3,en=!1;let nn;nn=en?"47.110.236.51":"localhost";const sn=`http://${nn}:${tn}/api`,rn=`http://${nn}:${tn}`,on=(t,e,n,s,r,o,i)=>{const a=`${sn}/data/sh/visitors/raw`;return`${a}/${t}/${e}-${n}-${s}/${r}-${o}-${i}`},an=(t,e,n)=>{const s=`${sn}/data/sh/visitors/sum`;return null==e&&null==n?`${s}/y/${t}/01/01`:null==n?`${s}/m/${t}/${e}/01`:`${s}/d/${t}/${e}/${n}`},cn=(t,e)=>{const n=`${sn}/data/sh/visitors/sumdiv`;return`${n}/${t}/${e}`},ln=(t,e,n)=>{const s=`${sn}/data/sh/visitors/yoy`;return null==e&&null==n?`${s}/y/${t}/01/01`:null==n?`${s}/m/${t}/${e}/01`:`${s}/d/${t}/${e}/${n}`},hn=(t,e,n,s,r,o,i)=>{const a=`${sn}/data/sh/hotel/raw`;return`${a}/${t}/${e}-${n}-${s}/${r}-${o}-${i}`},un=(t,e,n)=>{const s=`${sn}/data/sh/hotel/yoy`;return null==e&&null==n?`${s}/y/${t}/01/01`:null==n?`${s}/m/${t}/${e}/01`:`${s}/d/${t}/${e}/${n}`},dn=`${sn}/data/sh/visitorsbycountry/stats`,pn=`${sn}/data/sh/stats`,fn=t=>((0,o.Qi)("data-v-127280f6"),t=t(),(0,o.jt)(),t),gn={class:"centreLeft1"},mn={class:"bg-color-black"},yn={class:"d-flex pt-2 pl-2"},bn=fn((()=>(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"iconfont icon-tongji4"})],-1))),vn={class:"d-flex"},wn=fn((()=>(0,o.Lk)("span",{class:"fs-xl text mx-2"},"趋势总览",-1))),kn={class:"ml-3 colorBlue fw-b"};var En={__name:"index",setup(t){const e=(0,i.Kh)([{title:"下一个高峰",config:{toFixed:0,number:[],textAlign:"center",content:"{nt}年{nt}月{nt}日",style:{fontSize:26}}},{title:"本年入境游热度",config:{toFixed:0,textAlign:"center",content:"远高于去年",style:{fontSize:26}}},{title:"本月入境游热度",config:{toFixed:1,textAlign:"center",content:"高于平时",style:{fontSize:26}}}]);return(0,o.sV)((async()=>{Ze.get(pn).then((t=>{const n=t.data,s=new Date(n["peak_day"]);e[0].config.number=[s.getFullYear(),s.getMonth()+1,s.getDate()],e[1].config.content=h(n["hot_year"])+"去年",e[2].config.content=h(n["hot_month"])+"平时"}))})),(t,n)=>{const s=(0,o.g2)("dv-decoration-3"),r=(0,o.g2)("dv-digital-flop");return(0,o.uX)(),(0,o.CE)("div",gn,[(0,o.Lk)("div",mn,[(0,o.Lk)("div",yn,[bn,(0,o.Lk)("div",vn,[wn,(0,o.bF)(s,{class:"dv-dec-3"})])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(t=>((0,o.uX)(),(0,o.CE)("div",{class:"bg-color-black item",key:t.title},[(0,o.Lk)("p",kn,(0,c.v_)(t.title),1),(0,o.Lk)("div",null,[(0,o.bF)(r,{class:"dv-dig-flop",config:t.config},null,8,["config"])])])))),128))])])}}},_n=n(1495);const xn=(0,_n.A)(En,[["__scopeId","data-v-127280f6"]]);var On=xn;const An=t=>((0,o.Qi)("data-v-5efa8d18"),t=t(),(0,o.jt)(),t),Rn={class:"centreLeft1"},Sn={class:"bg-color-black"},Ln={class:"d-flex pt-2 pl-2"},Cn=An((()=>(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"iconfont icon-layer-group"})],-1))),Tn={class:"d-flex"},Bn=An((()=>(0,o.Lk)("span",{class:"fs-xl text mx-2"},"预估本月游客分布",-1))),Fn={class:"d-flex jc-center"};var Nn={__name:"index",setup(t){const e=(0,i.Kh)({radius:"80%",activeRadius:"60%",data:[{name:"1",value:55},{name:"2",value:120},{name:"3",value:78}],lineWidth:"25",digitalFlopStyle:{fontSize:20},digitalFlopToFixed:2});return(0,o.sV)((()=>{Ze.get(cn((new Date).getFullYear(),(new Date).getMonth()+1)).then((t=>{console.log(t),e.data=t.data}))})),(t,n)=>{const s=(0,o.g2)("dv-decoration-1"),r=(0,o.g2)("dv-active-ring-chart");return(0,o.uX)(),(0,o.CE)("div",Rn,[(0,o.Lk)("div",Sn,[(0,o.Lk)("div",Ln,[Cn,(0,o.Lk)("div",Tn,[Bn,(0,o.bF)(s,{class:"dv-dec-1"})])]),(0,o.Lk)("div",Fn,[(0,o.bF)(r,{config:e,style:{width:"300px",height:"300px"}},null,8,["config"])])])])}}};const jn=(0,_n.A)(Nn,[["__scopeId","data-v-5efa8d18"]]);var Dn=jn;n(9932);const Pn=t=>((0,o.Qi)("data-v-61a0de5e"),t=t(),(0,o.jt)(),t),Un={class:"center"},qn={class:"up"},In={class:"ml-3 colorBlue fw-b"},$n={class:"down"},Mn={class:"ranking bg-color-black"},zn={class:"d11-content"},Wn=Pn((()=>(0,o.Lk)("div",{"color-green":"","font-600":"",bg:"~ dark/0"}," 本年预计同比增长 ",-1))),Hn=Pn((()=>(0,o.Lk)("div",{"color-green":"","font-600":"",bg:"~ dark/0"}," 本月预计同比增长 ",-1))),Kn={class:"water-wrapper"};var Vn={__name:"index",setup(t){const e=(0,i.Kh)([{title:"本年累计游客数",config:{number:[],toFixed:0,textAlign:"center",content:"{nt}",style:{fontSize:26}}},{title:"本月累计游客数",config:{number:[],toFixed:0,textAlign:"center",content:"{nt}",style:{fontSize:26}}},{title:"星级酒店预计空置率%",config:{number:[],toFixed:1,textAlign:"center",content:"{nt}",style:{fontSize:26}}}]),n=(0,i.Kh)({leftpool:{data:[0],shape:"roundRect"},rightpool:{data:[0],shape:"roundRect"}});(0,o.sV)((async()=>{await s()}));const s=async()=>{e[0].config.number.push((await Ze.get(an((new Date).getFullYear(),null,null))).data["sum"]),e[1].config.number.push((await Ze.get(an((new Date).getFullYear(),(new Date).getMonth()+1,null))).data["sum"]),e[2].config.number.push((await Ze.get(un((new Date).getFullYear(),(new Date).getMonth()+1,null))).data["per"]),n.leftpool.data=[(await Ze.get(ln((new Date).getFullYear(),null,null))).data["per"]],n.rightpool.data=[(await Ze.get(ln((new Date).getFullYear(),(new Date).getMonth()+1,null))).data["per"]]};return(t,s)=>{const r=(0,o.g2)("dv-digital-flop"),i=(0,o.g2)("dv-decoration-11"),a=(0,o.g2)("dv-water-level-pond");return(0,o.uX)(),(0,o.CE)("div",Un,[(0,o.Lk)("div",qn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,(t=>((0,o.uX)(),(0,o.CE)("div",{class:"bg-color-black item",key:t.title},[(0,o.Lk)("p",In,(0,c.v_)(t.title),1),(0,o.Lk)("div",null,[(0,o.bF)(r,{class:"dv-dig-flop",config:t.config},null,8,["config"])])])))),128))]),(0,o.Lk)("div",$n,[(0,o.Lk)("div",Mn,[(0,o.Lk)("div",zn,[(0,o.bF)(i,{class:"d11"},{default:(0,o.k6)((()=>[Wn])),_:1}),(0,o.bF)(i,{class:"d11"},{default:(0,o.k6)((()=>[Hn])),_:1})]),(0,o.Lk)("div",Kn,[(0,o.bF)(a,{class:"water-pond",config:n.leftpool},null,8,["config"]),(0,o.bF)(a,{class:"water-pond",config:n.rightpool},null,8,["config"])])])])])}}};const Jn=(0,_n.A)(Vn,[["__scopeId","data-v-61a0de5e"]]);var Yn=Jn;const Xn=t=>((0,o.Qi)("data-v-9c1e7ac6"),t=t(),(0,o.jt)(),t),Qn={class:"centerRight2"},Gn={class:"bg-color-black"},Zn=Xn((()=>(0,o.Lk)("div",{class:"d-flex pt-2 pl-2"},[(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"iconfont icon-vector"})]),(0,o.Lk)("div",{class:"d-flex"},[(0,o.Lk)("span",{class:"fs-xl text mx-2"},"各国旅游人数榜")])],-1))),ts={class:"d-flex mt-1 jc-center body-box"};var es={__name:"index",setup(t){const e=(0,i.Kh)({header:["国家","今年人数(万)","同比增长","总人数(万)"],data:[],rowNum:7,headerHeight:35,headerBGC:"#0f1325",oddRowBGC:"#0f1325",evenRowBGC:"#171c33",index:!0,columnWidth:[50],align:["center"]});return(0,o.KC)((()=>{Ze.get(dn).then((t=>{let n=[],s=t.data;for(let e in s){var r=s[e].cur_per;if(r>0)var o=`<span class='colorGrass'>↑${r}%</span>`;else o=`<span class='colorRed'>↓${Math.abs(r)}%</span>`;n.push([s[e].country,s[e].cur_num,o,s[e].all_num])}e.data=n}))})),(t,n)=>{const s=(0,o.g2)("dv-scroll-board");return(0,o.uX)(),(0,o.CE)("div",Qn,[(0,o.Lk)("div",Gn,[Zn,(0,o.Lk)("div",ts,[(0,o.bF)(s,{class:"dv-scr-board",config:e},null,8,["config"])])])])}}};const ns=(0,_n.A)(es,[["__scopeId","data-v-9c1e7ac6"]]);var ss=ns;const rs=t=>((0,o.Qi)("data-v-24288aaa"),t=t(),(0,o.jt)(),t),os={class:"bottomLeft"},is={class:"bg-color-black"},as=rs((()=>(0,o.Lk)("div",{class:"d-flex pt-2 pl-2"},[(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"iconfont icon-chart-line"})]),(0,o.Lk)("div",{class:"d-flex"},[(0,o.Lk)("span",{class:"fs-xl text mx-2 mt-1"},"数据统计图")])],-1)));function cs(t,e,n,s,r,i){const a=(0,o.g2)("chart");return(0,o.uX)(),(0,o.CE)("div",os,[(0,o.Lk)("div",is,[as,(0,o.Lk)("div",null,[(0,o.bF)(a)])])])}var ls=n(6300);const hs={cdata:{type:Object,require:!0}};var us=(0,o.pM)({props:hs,setup(t){const e=(0,i.KR)();let n={};return(0,o.wB)((()=>t.cdata),(t=>{const s=[{name:"外国游客",type:"line",smooth:!0,showAllSymbol:"auto",symbol:"emptyCircle",yAxisIndex:1,symbolSize:8,itemStyle:{normal:{color:"#F02FC2"}},data:t.FOREIGN,emphasis:{focus:"series"}},{name:"港澳游客",type:"line",smooth:!0,itemStyle:{normal:{barBorderRadius:5,color:new ls.fA.W4(0,0,0,1,[{offset:0,color:"#956FD4"},{offset:1,color:"#3EACE5"}])}},data:t.HM,emphasis:{focus:"series"}},{name:"台湾省游客",type:"line",smooth:!0,itemStyle:{normal:{barBorderRadius:5,color:new ls.fA.W4(0,0,0,1,[{offset:0,color:"#618c63"},{offset:1,color:"#88f28d"}])}},z:-12,data:t.TW,emphasis:{focus:"series"}}];n={tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#7B7DDC"}}},legend:{show:!0,selected:{"外国游客":!0,"港澳游客":!0,"台湾省游客":!0},data:s.map((t=>t.name))},grid:{x:"8%",width:"88%",top:"5%",bottom:"7%"},xAxis:{data:t.DATE,axisLine:{lineStyle:{color:"#B4B4B4"}},axisTick:{show:!1}},yAxis:[{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value} "}},{splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value} "}}],series:s},e.value&&e.value.initChart(n)}),{immediate:!0,deep:!0}),()=>{const t="450px",n="100%";return(0,o.bF)("div",null,[(0,o.bF)((0,o.g2)("echart"),{ref:e,height:t,width:n},null)])}}}),ds=(0,o.pM)({components:{Draw:us},setup(){const t=(0,i.Kh)({data:{}});return(0,o.sV)((()=>{const e=new Date;Ze.get(on("m",2011,1,1,e.getFullYear(),e.getMonth()+1,e.getDay())).then((e=>{t.data=e.data}))})),()=>(0,o.bF)("div",null,[(0,o.bF)(us,{cdata:t.data},null)])}}),ps=(0,o.pM)({components:{Chart:ds}});const fs=(0,_n.A)(ps,[["render",cs],["__scopeId","data-v-24288aaa"]]);var gs=fs;const ms=t=>((0,o.Qi)("data-v-ba0b3976"),t=t(),(0,o.jt)(),t),ys={class:"bottomLeft"},bs={class:"bg-color-black"},vs=ms((()=>(0,o.Lk)("div",{class:"d-flex pt-2 pl-2"},[(0,o.Lk)("span",null,[(0,o.Lk)("i",{class:"iconfont icon-chart-line"})]),(0,o.Lk)("div",{class:"d-flex"},[(0,o.Lk)("span",{class:"fs-xl text mx-2 mt-1"},"数据统计图")])],-1)));function ws(t,e,n,s,r,i){const a=(0,o.g2)("chart");return(0,o.uX)(),(0,o.CE)("div",ys,[(0,o.Lk)("div",bs,[vs,(0,o.Lk)("div",null,[(0,o.bF)(a)])])])}const ks={cdata:{type:Object,require:!0}};var Es=(0,o.pM)({props:ks,setup(t){const e=(0,i.KR)();let n={};return(0,o.wB)((()=>t.cdata),(t=>{const s=[{name:"星级平均房价",type:"bar",itemStyle:{normal:{color:"#F02FC2"}},data:t.avg_price,emphasis:{focus:"series"},yAxisIndex:0},{name:"五星级平均房价",type:"bar",itemStyle:{normal:{color:"#515404"}},data:t.avg_price_5,emphasis:{focus:"series"},yAxisIndex:0},{name:"星级平均出租率",type:"line",smooth:!0,itemStyle:{normal:{color:new ls.fA.W4(0,0,0,1,[{offset:0,color:"#956FD4"},{offset:1,color:"#3EACE5"}])}},yAxisIndex:1,data:t.avg_rent_rate,emphasis:{focus:"series"}},{name:"五星级平均出租率",type:"line",smooth:!0,itemStyle:{normal:{color:new ls.fA.W4(0,0,0,1,[{offset:0,color:"#618c63"},{offset:1,color:"#88f28d"}])}},yAxisIndex:1,z:-12,data:t.avg_rent_rate_5,emphasis:{focus:"series"}}];n={tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow",label:{show:!0,backgroundColor:"#7B7DDC"}}},legend:{show:!0,selected:{"星级平均房价":!0,"五星级平均房价":!0,"星级平均出租率":!0,"五星级平均出租率":!0},data:s.map((t=>t.name))},grid:{x:"8%",width:"88%",top:"5%",bottom:"7%"},xAxis:{data:t.DATE,axisLine:{lineStyle:{color:"#B4B4B4"}},axisTick:{show:!1}},yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value} "}},{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#B4B4B4"}},axisLabel:{formatter:"{value} "},gridIndex:0,splitNumber:0,min:-200,max:100,axisPointer:{label:{show:!0,formatter:function(t){return t.value.toFixed(2)}}}}],series:s.reverse()},e.value&&e.value.initChart(n)}),{immediate:!0,deep:!0}),()=>{const t="450px",n="100%";return(0,o.bF)("div",null,[(0,o.bF)((0,o.g2)("echart"),{ref:e,height:t,width:n},null)])}}}),_s=(0,o.pM)({components:{Draw:Es},setup(){const t=(0,i.Kh)({data:{}});return(0,o.sV)((()=>{const e=new Date;Ze.get(hn("m",2011,1,1,e.getFullYear(),e.getMonth()+1,e.getDay())).then((e=>{t.data=e.data}))})),()=>(0,o.bF)("div",null,[(0,o.bF)(Es,{cdata:t.data},null)])}}),xs=(0,o.pM)({components:{Chart:_s}});const Os=(0,_n.A)(xs,[["render",ws],["__scopeId","data-v-ba0b3976"]]);var As=Os,Rs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Ss=Rs,Ls=n(7217);function Cs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),s.forEach((function(e){Ts(t,e,n[e])}))}return t}function Ts(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bs=function(t,e){var n=Cs({},t,e.attrs);return(0,o.bF)(Ls.A,Cs({},n,{icon:Ss}),null)};Bs.displayName="RightOutlined",Bs.inheritAttrs=!1;var Fs=Bs;const Ns=Object.create(null);Ns["open"]="0",Ns["close"]="1",Ns["ping"]="2",Ns["pong"]="3",Ns["message"]="4",Ns["upgrade"]="5",Ns["noop"]="6";const js=Object.create(null);Object.keys(Ns).forEach((t=>{js[Ns[t]]=t}));const Ds={type:"error",data:"parser error"},Ps="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Us="function"===typeof ArrayBuffer,qs=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Is=({type:t,data:e},n,s)=>Ps&&e instanceof Blob?n?s(e):$s(e,s):Us&&(e instanceof ArrayBuffer||qs(e))?n?s(e):$s(new Blob([e]),s):s(Ns[t]+(e||"")),$s=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function Ms(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let zs;function Ws(t,e){return Ps&&t.data instanceof Blob?t.data.arrayBuffer().then(Ms).then(e):Us&&(t.data instanceof ArrayBuffer||qs(t.data))?e(Ms(t.data)):void Is(t,!1,(t=>{zs||(zs=new TextEncoder),e(zs.encode(t))}))}const Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let ti=0;ti<Hs.length;ti++)Ks[Hs.charCodeAt(ti)]=ti;const Vs=t=>{let e,n,s,r,o,i=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);const l=new ArrayBuffer(i),h=new Uint8Array(l);for(e=0;e<a;e+=4)n=Ks[t.charCodeAt(e)],s=Ks[t.charCodeAt(e+1)],r=Ks[t.charCodeAt(e+2)],o=Ks[t.charCodeAt(e+3)],h[c++]=n<<2|s>>4,h[c++]=(15&s)<<4|r>>2,h[c++]=(3&r)<<6|63&o;return l},Js="function"===typeof ArrayBuffer,Ys=(t,e)=>{if("string"!==typeof t)return{type:"message",data:Qs(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Xs(t.substring(1),e)};const s=js[n];return s?t.length>1?{type:js[n],data:t.substring(1)}:{type:js[n]}:Ds},Xs=(t,e)=>{if(Js){const n=Vs(t);return Qs(n,e)}return{base64:!0,data:t}},Qs=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Gs=String.fromCharCode(30),Zs=(t,e)=>{const n=t.length,s=new Array(n);let r=0;t.forEach(((t,o)=>{Is(t,!1,(t=>{s[o]=t,++r===n&&e(s.join(Gs))}))}))},tr=(t,e)=>{const n=t.split(Gs),s=[];for(let r=0;r<n.length;r++){const t=Ys(n[r],e);if(s.push(t),"error"===t.type)break}return s};function er(){return new TransformStream({transform(t,e){Ws(t,(n=>{const s=n.length;let r;if(s<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,s);else if(s<65536){r=new Uint8Array(3);const t=new DataView(r.buffer);t.setUint8(0,126),t.setUint16(1,s)}else{r=new Uint8Array(9);const t=new DataView(r.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(s))}t.data&&"string"!==typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)}))}})}let nr;function sr(t){return t.reduce(((t,e)=>t+e.length),0)}function rr(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let r=0;r<e;r++)n[r]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function or(t,e){nr||(nr=new TextDecoder);const n=[];let s=0,r=-1,o=!1;return new TransformStream({transform(i,a){n.push(i);while(1){if(0===s){if(sr(n)<1)break;const t=rr(n,1);o=128===(128&t[0]),r=127&t[0],s=r<126?3:126===r?1:2}else if(1===s){if(sr(n)<2)break;const t=rr(n,2);r=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),s=3}else if(2===s){if(sr(n)<8)break;const t=rr(n,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){a.enqueue(Ds);break}r=o*Math.pow(2,32)+e.getUint32(4),s=3}else{if(sr(n)<r)break;const t=rr(n,r);a.enqueue(Ys(o?t:nr.decode(t),e)),s=0}if(0===r||r>t){a.enqueue(Ds);break}}}})}const ir=4;function ar(t){if(t)return cr(t)}function cr(t){for(var e in ar.prototype)t[e]=ar.prototype[e];return t}ar.prototype.on=ar.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},ar.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},ar.prototype.off=ar.prototype.removeListener=ar.prototype.removeAllListeners=ar.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<s.length;r++)if(n=s[r],n===e||n.fn===e){s.splice(r,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},ar.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);s=0;for(var r=n.length;s<r;++s)n[s].apply(this,e)}return this},ar.prototype.emitReserved=ar.prototype.emit,ar.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},ar.prototype.hasListeners=function(t){return!!this.listeners(t).length};const lr=(()=>"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")())();function hr(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const ur=lr.setTimeout,dr=lr.clearTimeout;function pr(t,e){e.useNativeTimers?(t.setTimeoutFn=ur.bind(lr),t.clearTimeoutFn=dr.bind(lr)):(t.setTimeoutFn=lr.setTimeout.bind(lr),t.clearTimeoutFn=lr.clearTimeout.bind(lr))}const fr=1.33;function gr(t){return"string"===typeof t?mr(t):Math.ceil((t.byteLength||t.size)*fr)}function mr(t){let e=0,n=0;for(let s=0,r=t.length;s<r;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function yr(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function br(t){let e={},n=t.split("&");for(let s=0,r=n.length;s<r;s++){let t=n[s].split("=");e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return e}class vr extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class wr extends ar{constructor(t){super(),this.writable=!1,pr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new vr(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=Ys(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=yr(t);return e.length?"?"+e:""}}const kr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Er=64,_r={};let xr,Or=0,Ar=0;function Rr(t){let e="";do{e=kr[t%Er]+e,t=Math.floor(t/Er)}while(t>0);return e}function Sr(){const t=Rr(+new Date);return t!==xr?(Or=0,xr=t):t+"."+Rr(Or++)}for(;Ar<Er;Ar++)_r[kr[Ar]]=Ar;let Lr=!1;try{Lr="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Zo){}const Cr=Lr;function Tr(t){const e=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!e||Cr))return new XMLHttpRequest}catch(n){}if(!e)try{return new(lr[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Br(){}function Fr(){}const Nr=function(){const t=new Tr({xdomain:!1});return null!=t.responseType}();class jr extends wr{constructor(t){if(super(t),this.polling=!1,"undefined"!==typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!==typeof location&&t.hostname!==location.hostname||n!==t.port}const e=t&&t.forceBase64;this.supportsBinary=Nr&&!e,this.opts.withCredentials&&(this.cookieJar=Br())}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const e=t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};tr(t,this.socket.binaryType).forEach(e),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,Zs(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Sr()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Dr(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class Dr extends ar{constructor(t,e){super(),pr(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.data=void 0!==e.data?e.data:null,this.create()}create(){var t;const e=hr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd;const n=this.xhr=new Tr(e);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&n.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(s){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{n.setRequestHeader("Accept","*/*")}catch(s){}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var t;3===n.readyState&&(null===(t=this.opts.cookieJar)||void 0===t||t.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(s){return void this.setTimeoutFn((()=>{this.onError(s)}),0)}"undefined"!==typeof document&&(this.index=Dr.requestsCount++,Dr.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Fr,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete Dr.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Dr.requestsCount=0,Dr.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Pr);else if("function"===typeof addEventListener){const t="onpagehide"in lr?"pagehide":"unload";addEventListener(t,Pr,!1)}function Pr(){for(let t in Dr.requests)Dr.requests.hasOwnProperty(t)&&Dr.requests[t].abort()}const Ur=(()=>{const t="function"===typeof Promise&&"function"===typeof Promise.resolve;return t?t=>Promise.resolve().then(t):(t,e)=>e(t,0)})(),qr=lr.WebSocket||lr.MozWebSocket,Ir=!0,$r="arraybuffer",Mr="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class zr extends wr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Mr?{}:hr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ir&&!Mr?e?new qr(t,e):new qr(t):new qr(t,e,n)}catch(Zo){return this.emitReserved("error",Zo)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;Is(n,this.supportsBinary,(t=>{const e={};if(!Ir&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)){const n="string"===typeof t?Buffer.byteLength(t):t.length;n<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{Ir?this.ws.send(t):this.ws.send(t,e)}catch(r){}s&&Ur((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Sr()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}check(){return!!qr}}class Wr extends wr{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((t=>{const e=or(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),s=er();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const r=()=>{n.read().then((({done:t,value:e})=>{t||(this.onPacket(e),r())})).catch((t=>{}))};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;this.writer.write(n).then((()=>{s&&Ur((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this.transport)||void 0===t||t.close()}}const Hr={websocket:zr,webtransport:Wr,polling:jr},Kr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Jr(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");-1!=n&&-1!=s&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let r=Kr.exec(t||""),o={},i=14;while(i--)o[Vr[i]]=r[i]||"";return-1!=n&&-1!=s&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Yr(o,o["path"]),o.queryKey=Xr(o,o["query"]),o}function Yr(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1),"/"==e.slice(-1)&&s.splice(s.length-1,1),s}function Xr(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,s){e&&(n[e]=s)})),n}class Qr extends ar{constructor(t,e={}){super(),this.binaryType=$r,this.writeBuffer=[],t&&"object"===typeof t&&(e=t,t=null),t?(t=Jr(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=Jr(e.host).host),pr(this,e),this.secure=null!=e.secure?e.secure:"undefined"!==typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=br(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=ir,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Hr[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Qr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;Qr.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Qr.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function r(){n||(n=!0,l(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,r(),this.emitReserved("upgradeError",n)};function i(){o("transport closed")}function a(){o("socket closed")}function c(t){e&&t.name!==e.name&&r()}const l=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",i),this.off("close",a),this.off("upgrading",c)};e.once("open",s),e.once("error",o),e.once("close",i),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{n||e.open()}),200):e.open()}onOpen(){if(this.readyState="open",Qr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){const t=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!t)return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const t=this.writeBuffer[n].data;if(t&&(e+=gr(t)),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,s){if("function"===typeof e&&(s=e,e=void 0),"function"===typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;n=n||{},n.compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Qr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Qr.protocol=ir;Qr.protocol;function Gr(t,e="",n){let s=t;n=n||"undefined"!==typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"===typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t="undefined"!==typeof n?n.protocol+"//"+t:"https://"+t),s=Jr(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=-1!==s.host.indexOf(":"),o=r?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+e,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const Zr="function"===typeof ArrayBuffer,to=t=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,eo=Object.prototype.toString,no="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===eo.call(Blob),so="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===eo.call(File);function ro(t){return Zr&&(t instanceof ArrayBuffer||to(t))||no&&t instanceof Blob||so&&t instanceof File}function oo(t,e){if(!t||"object"!==typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(oo(t[e]))return!0;return!1}if(ro(t))return!0;if(t.toJSON&&"function"===typeof t.toJSON&&1===arguments.length)return oo(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&oo(t[n]))return!0;return!1}function io(t){const e=[],n=t.data,s=t;return s.data=ao(n,e),s.attachments=e.length,{packet:s,buffers:e}}function ao(t,e){if(!t)return t;if(ro(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=ao(t[s],e);return n}if("object"===typeof t&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=ao(t[s],e));return n}return t}function co(t,e){return t.data=lo(t.data,e),delete t.attachments,t}function lo(t,e){if(!t)return t;if(t&&!0===t._placeholder){const n="number"===typeof t.num&&t.num>=0&&t.num<e.length;if(n)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=lo(t[n],e);else if("object"===typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=lo(t[n],e));return t}const ho=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uo=5;var po;(function(t){t[t["CONNECT"]=0]="CONNECT",t[t["DISCONNECT"]=1]="DISCONNECT",t[t["EVENT"]=2]="EVENT",t[t["ACK"]=3]="ACK",t[t["CONNECT_ERROR"]=4]="CONNECT_ERROR",t[t["BINARY_EVENT"]=5]="BINARY_EVENT",t[t["BINARY_ACK"]=6]="BINARY_ACK"})(po||(po={}));class fo{constructor(t){this.replacer=t}encode(t){return t.type!==po.EVENT&&t.type!==po.ACK||!oo(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===po.EVENT?po.BINARY_EVENT:po.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==po.BINARY_EVENT&&t.type!==po.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=io(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}}function go(t){return"[object Object]"===Object.prototype.toString.call(t)}class mo extends ar{constructor(t){super(),this.reviver=t}add(t){let e;if("string"===typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===po.BINARY_EVENT;n||e.type===po.BINARY_ACK?(e.type=n?po.EVENT:po.ACK,this.reconstructor=new yo(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ro(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===po[n.type])throw new Error("unknown packet type "+n.type);if(n.type===po.BINARY_EVENT||n.type===po.BINARY_ACK){const s=e+1;while("-"!==t.charAt(++e)&&e!=t.length);const r=t.substring(s,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const s=e+1;while(++e){const n=t.charAt(e);if(","===n)break;if(e===t.length)break}n.nsp=t.substring(s,e)}else n.nsp="/";const s=t.charAt(e+1);if(""!==s&&Number(s)==s){const s=e+1;while(++e){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=this.tryParse(t.substr(e));if(!mo.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case po.CONNECT:return go(e);case po.DISCONNECT:return void 0===e;case po.CONNECT_ERROR:return"string"===typeof e||go(e);case po.EVENT:case po.BINARY_EVENT:return Array.isArray(e)&&("number"===typeof e[0]||"string"===typeof e[0]&&-1===ho.indexOf(e[0]));case po.ACK:case po.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yo{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=co(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function bo(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const vo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wo extends ar{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bo(t,"open",this.onopen.bind(this)),bo(t,"packet",this.onpacket.bind(this)),bo(t,"error",this.onerror.bind(this)),bo(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io["_reconnecting"]||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(vo.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:po.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"===typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),n.id=t}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,r=this.flags.volatile&&(!s||!this.connected);return r||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[t]=e);const r=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s),o=(...t)=>{this.io.clearTimeoutFn(r),e.apply(this,t)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise(((n,s)=>{const r=(t,e)=>t?s(t):n(e);r.withError=!0,e.push(r),this.emit(t,...e)}))}_addToQueue(t){let e;"function"===typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...s)=>{if(n!==this._queue[0])return;const r=null!==t;return r?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:po.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{const e=this.sendBuffer.some((e=>String(e.id)===t));if(!e){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){const e=t.nsp===this.nsp;if(e)switch(t.type){case po.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case po.EVENT:case po.BINARY_EVENT:this.onevent(t);break;case po.ACK:case po.BINARY_ACK:this.onack(t);break;case po.DISCONNECT:this.ondisconnect();break;case po.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e);break}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"===typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:po.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];"function"===typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io["_destroy"](this)}disconnect(){return this.connected&&this.packet({type:po.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function ko(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ko.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},ko.prototype.reset=function(){this.attempts=0},ko.prototype.setMin=function(t){this.ms=t},ko.prototype.setMax=function(t){this.max=t},ko.prototype.setJitter=function(t){this.jitter=t};class Eo extends ar{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,pr(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ko({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||r;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Qr(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=bo(e,"open",(function(){n.onopen(),t&&t()})),r=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},o=bo(e,"error",r);if(!1!==this._timeout){const t=this._timeout,n=this.setTimeoutFn((()=>{s(),r(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bo(t,"ping",this.onping.bind(this)),bo(t,"data",this.ondata.bind(this)),bo(t,"error",this.onerror.bind(this)),bo(t,"close",this.onclose.bind(this)),bo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Ur((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new wo(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e){const t=this.nsps[n];if(t.active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const _o={};function xo(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};const n=Gr(t,e.path||"/socket.io"),s=n.source,r=n.id,o=n.path,i=_o[r]&&o in _o[r]["nsps"],a=e.forceNew||e["force new connection"]||!1===e.multiplex||i;let c;return a?c=new Eo(s,e):(_o[r]||(_o[r]=new Eo(s,e)),c=_o[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(xo,{Manager:Eo,Socket:wo,io:xo,connect:xo});var Oo=n(1345);const Ao=t=>((0,o.Qi)("data-v-c2cfa864"),t=t(),(0,o.jt)(),t),Ro={id:"shell-container"},So={class:"bg"},Lo={key:1,class:"host-body"},Co={class:"d-flex jc-center"},To={class:"d-flex jc-center"},Bo={class:"title"},Fo={class:"title-text"},No={class:"d-flex jc-between px-2"},jo={class:"d-flex aside-width"},Do={class:"react-left ml-4 react-l-s"},Po=Ao((()=>(0,o.Lk)("span",{class:"react-before"},null,-1))),Uo={class:"text"},qo={class:"react-left ml-3"},Io={class:"text"},$o={class:"d-flex aside-width"},Mo={class:"react-right bg-color-blue mr-3"},zo={class:"text fw-b"},Wo={class:"react-right mr-4 react-l-s"},Ho=Ao((()=>(0,o.Lk)("span",{class:"react-after"},null,-1))),Ko={class:"text"},Vo={class:"body-box"},Jo={class:"content-box"},Yo={class:"bototm-box"};var Xo={__name:"index",setup(t){const e=(0,i.KR)(!1),n=(0,i.KR)(),s=(0,i.KR)("disconnected"),r=(t,e,r,o)=>{if("connected"===s.value)"connect"===t?r({type:"normal",class:"success",content:"Connect Normally."}):"disconnect"===t?(n.value.disconnect(),r({type:"normal",class:"success",content:"Disconnected from Websocket Server."})):n.value.emit(t,e,(t=>{t=JSON.parse(t),console.log(t),r(t)}));else if("disconnected"===s.value)if("connect"===t){console.log("Try to Connect to the server");const t=e.split(/\s+/).slice(1);if(2!==t.length)return void r({type:"normal",class:"error",content:"Wrong Format, like 'connect usr psw'."});n.value=xo(rn,{auth:{usr:t[0],psw:t[1]}}),n.value.on("connect",(()=>{r({type:"normal",class:"success",content:"Connection Established. Welcome."}),s.value="connected",console.log("Connected to the server")})),n.value.on("disconnect",(t=>{r({type:"normal",class:"error",content:`Disconnected: ${t}`}),s.value="disconnected",console.log(`Disconnected: ${t}`)})),n.value.on("error",(t=>{console.error("Connection Error:",t)})),n.value.on("reconnect_attempt",(()=>{console.log("Attempting to reconnect...")})),n.value.on("reconnect_failed",(()=>{console.log("Reconnection failed")}))}else r({type:"normal",class:"info",content:"WebSocket Connection Not Established."})},h=["#568aea","#000000"],g=(0,i.KR)(!0),m=(0,i.Kh)({setInterval:0,dateDay:"",dateYear:"",dateWeek:""}),{appRef:y,calcRate:b,windowDraw:v,unWindowDraw:w}=f();(0,o.sV)((()=>{k(),E(),v(),b()})),(0,o.hi)((()=>{w(),clearInterval(m.setInterval)}));const k=()=>{setTimeout((()=>{g.value=!1}),500)},E=()=>{m.setInterval=setInterval((()=>{const t=new Date;m.dateDay=l(t,"HH: mm: ss"),m.dateYear=l(t,"yyyy-MM-dd"),m.dateWeek=u[t.getDay()]}),1e3)};return(t,n)=>{const s=(0,o.g2)("a-float-button"),l=(0,o.g2)("dv-loading"),u=(0,o.g2)("dv-decoration-10"),f=(0,o.g2)("dv-decoration-8"),b=(0,o.g2)("dv-decoration-6"),v=(0,o.g2)("dv-border-box-12"),w=(0,o.g2)("dv-border-box-13");return(0,o.uX)(),(0,o.CE)("div",{id:"index",ref_key:"appRef",ref:y},[(0,o.bF)(s,{onClick:n[0]||(n[0]=t=>e.value=!e.value)},{icon:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)(Fs))])),_:1}),(0,o.Lk)("div",Ro,[(0,o.bo)((0,o.bF)((0,i.R1)(Oo.Ay),{name:"ws_sh",onExecCmd:r,"drag-conf":{width:1200,height:1e3},title:"系统维护终端",context:"ws","show-header":!0},null,512),[[a.aG,e.value]])]),(0,o.Lk)("div",So,[g.value?((0,o.uX)(),(0,o.Wv)(l,{key:0},{default:(0,o.k6)((()=>[(0,o.eW)("Loading...")])),_:1})):((0,o.uX)(),(0,o.CE)("div",Lo,[(0,o.Lk)("div",Co,[(0,o.bF)(u,{class:"dv-dec-10"}),(0,o.Lk)("div",To,[(0,o.bF)(f,{class:"dv-dec-8",color:h}),(0,o.Lk)("div",Bo,[(0,o.Lk)("span",Fo,(0,c.v_)((0,i.R1)(d)),1),(0,o.bF)(b,{class:"dv-dec-6",reverse:!0,color:["#50e3c2","#67a1e5"]})]),(0,o.bF)(f,{class:"dv-dec-8",reverse:!0,color:h})]),(0,o.bF)(u,{class:"dv-dec-10-s"})]),(0,o.Lk)("div",No,[(0,o.Lk)("div",jo,[(0,o.Lk)("div",Do,[Po,(0,o.Lk)("span",Uo,(0,c.v_)((0,i.R1)(p)[0]),1)]),(0,o.Lk)("div",qo,[(0,o.Lk)("span",Io,(0,c.v_)((0,i.R1)(p)[1]),1)])]),(0,o.Lk)("div",$o,[(0,o.Lk)("div",Mo,[(0,o.Lk)("span",zo,(0,c.v_)((0,i.R1)(p)[2]),1)]),(0,o.Lk)("div",Wo,[Ho,(0,o.Lk)("span",Ko,(0,c.v_)(m.dateYear)+" "+(0,c.v_)(m.dateWeek)+" "+(0,c.v_)(m.dateDay),1)])])]),(0,o.Lk)("div",Vo,[(0,o.Lk)("div",Jo,[(0,o.Lk)("div",null,[(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(On)])),_:1})]),(0,o.Lk)("div",null,[(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(Dn)])),_:1})]),(0,o.Lk)("div",null,[(0,o.bF)(Yn)]),(0,o.Lk)("div",null,[(0,o.bF)(w,null,{default:(0,o.k6)((()=>[(0,o.bF)(ss)])),_:1})])]),(0,o.Lk)("div",Yo,[(0,o.bF)(w,null,{default:(0,o.k6)((()=>[(0,o.bF)(gs)])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(As)])),_:1})])])]))])],512)}}};const Qo=(0,_n.A)(Xo,[["__scopeId","data-v-c2cfa864"]]);var Go=Qo}}]);